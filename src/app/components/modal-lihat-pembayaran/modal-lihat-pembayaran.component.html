<ion-content color="light">
  <ion-grid class="p-18">
    <ion-row class="ion-justify-content-center">
      <ion-col sizeMd="8" size="12">

        <div class="ion-text-center ion-margin-bottom">
          <ion-text color="dark" class="fw-bold h2-fs">
            Ringkasan Bayaran
          </ion-text>
          <ion-text color="medium">
            <p class="fs-small">Sila semak butiran di bawah</p>
          </ion-text>
        </div>

        <ion-card class="receipt-card">

          <div class="card-section student-section">
            <ion-item lines="none">
              <ion-avatar slot="start" class="student-avatar">
                <ion-icon name="person" size="large" color="primary"></ion-icon>
              </ion-avatar>
              <ion-label>
                <p class="label-muted">Maklumat Pelajar</p>
                <h3>{{ data?.namaPelajar || '-' | uppercase}}</h3>
                <p class="sub-text">{{ data?.kelas || '-' | titlecase}}</p>
              </ion-label>
            </ion-item>
          </div>

          <div class="dashed-divider"></div>

          <div class="card-section">
            <ion-row>
              <ion-col size="6">
                <p class="label-muted mb-1">Kaedah Bayaran</p>
                <div class="info-badge">
                  <ion-icon name="card-outline"></ion-icon>
                  <span>{{ data?.jenisBayaran || '-' | titlecase}}</span>
                </div>
              </ion-col>
              <ion-col size="6" class="ion-text-end">
                <p class="label-muted mb-1">Tarikh</p>
                <div class="date-text">
                  {{ data?.tarikhBayaran | date:'dd MMM yyyy' }}
                </div>
              </ion-col>
            </ion-row>
          </div>

          <div class="solid-divider"></div>

          <div class="card-section item-list">
            <p class="label-muted mb-3">Butiran Pembayaran</p>

            <div class="item-row" *ngFor="let item of data?.detailsBayaran">
              <span class="item-name">{{ item?.butiran | uppercase }}</span>
              <span class="item-price">{{ item?.jumlah | currency:'RM ' }}</span>
            </div>
          </div>

          <div class="total-section">
            <div class="dashed-divider mb-12"></div>
            <div class="item-row total-row">
              <span class="total-label">JUMLAH BAYARAN</span>
              <span class="total-amount">
                {{ total | currency:'RM ' }}
              </span>
            </div>
          </div>

        </ion-card>

      </ion-col>
    </ion-row>

    <ion-row *ngIf="isLihat && data.generated_receipt" class="ion-justify-content-center">
      <ion-col sizeMd="8" size="12" class="ion-text-center">
        <ion-card class="receipt-card">
          <div class="card-section">
            <ion-row>
              <ion-col size="12">
                <p class="label-muted mb-1">No. Resit</p>
                <div class="info-badge">
                  <ion-icon name="information-circle-outline"></ion-icon>
                  <span>{{ data?.noReceipt}}</span>
                </div>
              </ion-col>
            </ion-row>

            <ion-row>
              <ion-col size="12">
                <p class="label-muted mb-1">Tarikh Resit Dijana</p>
                <div class="info-badge">
                  <ion-icon name="calendar-outline"></ion-icon>
                  <span>{{data.receiptDate | date:'dd/MM/yyyy'}}</span>
                </div>
              </ion-col>
            </ion-row>

          </div>
        </ion-card>
        <!-- <ion-text class="body-fs">Tarikh Resit Dijana: {{data.receiptDate | date:'dd/MM/yyyy'}}</ion-text> -->
      </ion-col>
    </ion-row>

    <ion-row class="ion-justify-content-center mt-16">
      <ion-col size="8" *ngIf="!isLihat">
        <ion-button expand="block" color="tertiary" (click)="onJana()">
          <ion-text class="fw-semibold">Jana Resit</ion-text>
        </ion-button>

        <ion-button fill="outline" expand="block" color="secondary" (click)="onTutup()">
          <ion-text class="fw-semibold">Tutup</ion-text>
        </ion-button>
      </ion-col>

      <ion-col size="8" *ngIf="isLihat">
        <ion-button expand="block" color="tertiary" (click)="onLihatResit()" *ngIf="data.generated_receipt">
          <ion-text class="fw-semibold">Lihat Resit</ion-text>
        </ion-button>

        <ion-button fill="outline" expand="block" color="secondary" (click)="onTutup()">
          <ion-text class="fw-semibold">Tutup</ion-text>
        </ion-button>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>